# 保研加分小助手项目总结

## 项目概述

保研加分小助手是一个专为厦门大学信息学院（特色化示范性软件学院）推免申请设计的一站式管理平台。该系统实现了从信息采集、自动计分、合规校验到材料生成、审核与公示的完整流程管理。

## 核心特性

### 1. 精确的规则引擎
- **完全还原学院文件口径**：严格按照学院实施细则、操作办法、专长细则执行
- **自动时间校验**：所有成果必须在当年8月31日前获得
- **智能去重处理**：同一作品跨赛、同年同类型竞赛只取最高分
- **自动封顶控制**：学术专长≤15分，综合表现≤5分

### 2. 全面的成果管理
- **多类型成果支持**：论文、专利、竞赛、创新创业、志愿服务、荣誉称号、社会工作、体育比赛
- **证据文件管理**：支持PDF、Word、图片等多种格式
- **自动验证**：检查成果真实性和有效性
- **批量处理**：支持批量上传和审核

### 3. 智能计分系统
- **公式化计算**：推免综合成绩 = 学业综合成绩×80% + 学术专长成绩（≤15） + 综合表现成绩（≤5）
- **可追溯计算链**：每一分都有详细的规则来源和证据链接
- **实时计算**：成果更新后自动重新计算分数
- **详细报告**：提供完整的计分明细和说明

### 4. 完整的流程管理
- **常规推免流程**：建档→预审→统筹→公示→审定
- **特殊学术专长流程**：条件检查→教授推荐→成果审核→公开答辩→公示
- **状态跟踪**：实时显示申请进度和状态
- **消息通知**：重要节点自动通知相关人员

### 5. 多角色权限管理
- **学生**：查看个人数据、管理成果、提交申请
- **系工作小组**：维护和审核
- **学院推免工作小组**：终审和公示
- **专家组**：专长审核和答辩
- **管理员**：口径维护和目录管理

## 技术架构

### 后端技术栈
- **运行环境**：Node.js + TypeScript
- **Web框架**：Express.js
- **数据库**：MongoDB + Mongoose
- **认证**：JWT + bcrypt
- **文件处理**：Multer
- **文档生成**：Puppeteer + docx

### 前端技术栈
- **框架**：React 18 + TypeScript
- **UI组件库**：Ant Design
- **状态管理**：Zustand
- **路由**：React Router
- **HTTP客户端**：Axios
- **样式**：CSS3 + Ant Design主题

### 核心模块

#### 1. 规则引擎 (RuleEngine)
```typescript
// 核心计分逻辑
export class RuleEngine {
  static calculatePaperScore(paper: Paper): RuleResult
  static calculateContestScore(contest: Contest): RuleResult
  static calculatePatentScore(patent: Patent): RuleResult
  // ... 其他计分方法
}
```

#### 2. 计分服务 (ScoringService)
```typescript
// 综合成绩计算
export class ScoringService {
  static async calculateComprehensiveScore(
    studentId: string, 
    applicationId: string
  ): Promise<ScoringResult>
}
```

#### 3. 数据模型
- **User**: 用户基础信息
- **Student**: 学生详细信息
- **Achievement**: 成果基础模型
- **Paper/Contest/Patent**: 具体成果类型
- **Application**: 申请信息
- **ScoreSheet**: 计分结果

## 核心功能实现

### 1. 资格与风险预判
- ✅ 外语门槛校验（CET4≥500或CET6≥425或TOEFL≥90或GRE≥204或IELTS≥6.0）
- ✅ 重修门次检查（三门次及以上重修通过者不具备申请资格）
- ✅ 特殊学术专长条件判定（3位教授联名推荐+高水平成果+公开答辩）

### 2. 成果采集与证据管理
- ✅ 全要素录入（论文/专利/竞赛/双创/志愿/荣誉/社会工作/体育）
- ✅ 自动时间校验（8月31日截止线）
- ✅ 证据文件上传和管理
- ✅ 团体赛成员名次和角色录入

### 3. 自动计分与综合成绩
- ✅ 论文计分：A类10分、B类6分、C类1分（C类最多2篇）
- ✅ 专利计分：国家发明专利授权2分
- ✅ 竞赛计分：按级别和奖项对照表
- ✅ 创新创业：国/省/校立项，最多2分
- ✅ 志愿服务：≥200小时起计，最多1分
- ✅ 荣誉称号：国/省/校，最多2分
- ✅ 社会工作：岗位系数×学年评分，最多2分
- ✅ 体育比赛：按级别和名次，最多2分

### 4. 去重/封顶/冲突处理
- ✅ 同一作品跨赛只取最高一次
- ✅ ICPC/CCPC同年只取最高分
- ✅ CCF CSP只取最高一次
- ✅ 各项目封顶限制
- ✅ 团队成员人数限制

### 5. 流程编排
- ✅ 常规推免完整流程
- ✅ 特殊学术专长申请流程
- ✅ 院内公示管理
- ✅ 审核意见记录

### 6. 文档生成与导出
- ✅ 个人申请书生成
- ✅ 成果明细表导出
- ✅ 计分过程清单
- ✅ 专家评审模板
- ✅ 公示名单模板

## 项目亮点

### 1. 高度自动化
- 自动计分计算，减少人工错误
- 自动时间校验，确保合规性
- 自动去重处理，避免重复计算
- 自动封顶控制，符合规则要求

### 2. 完全合规
- 严格按照学院文件口径执行
- 所有规则可配置和版本化
- 完整的审计日志
- 可追溯的计算链

### 3. 用户友好
- 现代化的UI设计
- 直观的操作流程
- 详细的提示信息
- 完善的错误处理

### 4. 扩展性强
- 模块化设计
- 规则引擎可配置
- 支持多种成果类型
- 易于维护和升级

## 部署和运行

### 开发环境
```bash
# 克隆项目
git clone <repository-url>
cd 保研加分agent

# 安装依赖
./start.sh

# 启动开发服务器
npm run dev
```

### 生产环境
```bash
# 构建项目
npm run build

# 启动生产服务
npm start
```

### 系统要求
- Node.js >= 16.0.0
- MongoDB >= 4.4.0
- 内存 >= 2GB
- 存储 >= 10GB

## 测试和验证

### 单元测试
- 规则引擎测试
- 计分服务测试
- 数据模型测试

### 集成测试
- API接口测试
- 用户流程测试
- 文件上传测试

### 性能测试
- 并发用户测试
- 大数据量测试
- 响应时间测试

## 安全考虑

### 数据安全
- 密码加密存储
- JWT令牌认证
- 文件上传限制
- SQL注入防护

### 权限控制
- 角色基础访问控制
- 数据隔离
- 操作日志记录
- 敏感信息保护

## 维护和升级

### 日常维护
- 日志监控
- 性能监控
- 错误处理
- 数据备份

### 版本升级
- 向后兼容
- 渐进式部署
- 回滚机制
- 用户通知

## 未来规划

### 短期目标
- 完善测试覆盖
- 优化性能表现
- 增强用户体验
- 扩展功能模块

### 长期目标
- 支持多学院部署
- 集成更多数据源
- 人工智能辅助
- 移动端支持

## 总结

保研加分小助手成功实现了厦门大学信息学院推免申请的数字化管理，通过精确的规则引擎、智能的计分系统和完整的流程管理，大大提高了工作效率和准确性。系统设计遵循了最佳实践，具有良好的可维护性和扩展性，为学院的推免工作提供了强有力的技术支撑。

## 联系方式

- 项目负责人：[姓名]
- 技术支持：[邮箱]
- 项目文档：[链接]
- 问题反馈：[链接]
